---
import { getCollection } from 'astro:content';
import ActivityLayout from '../../../layouts/ActivityLayout.astro';

export async function getStaticPaths() {
  const experiences = await getCollection('experiences');
  
  return experiences.map(experience => ({
    params: { 
      category: experience.data.category.toLowerCase().replace(/ /g, '-'),
      slug: experience.slug 
    },
    props: { experience }
  }));
}

const { experience } = Astro.props;
const { Content } = await experience.render();
---

<ActivityLayout frontmatter={experience.data}>
  <Content />
</ActivityLayout>
