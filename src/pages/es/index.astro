---
import Layout from '../../layouts/Layout.astro';
import HeroSection from '../../components/HeroSection.astro';
import FeatureCard from '../../components/FeatureCard.astro';
import CategorySection from '../../components/CategorySection.astro';
import AdventureCard from '../../components/AdventureCard.astro';
import Newsletter from '../../components/Newsletter.astro';
import { getLanguageFromURL, useTranslations } from '../../i18n/utils';

// Get the current language from the URL
const lang = getLanguageFromURL(Astro.url);
const t = useTranslations(lang);

// Define featured activities and categories
const featuredActivities = [
  {
    title: "Trail Running en Sapa",
    description: "Explore magníficos campos de arroz en terrazas en desafiantes senderos de montaña con impresionantes vistas del norte de Vietnam.",
    image: "https://images.unsplash.com/photo-1528127269322-539801943592",
    link: `/${lang}/trail-running/sapa-trails`,
    tagline: "Popular"
  },
  {
    title: "Ascenso a la Cumbre Fansipan",
    description: "Conquiste el pico más alto de Indochina a través de bosques antiguos y praderas alpinas en esta inolvidable expedición de 2 días.",
    image: "https://images.unsplash.com/photo-1502747812021-0ae746b6c23f",
    link: `/${lang}/hiking/fansipan`,
    tagline: "Desafiante"
  },
  {
    title: "Escalada en la Isla de Cat Ba",
    description: "Escale impresionantes formaciones kársticas que se elevan desde aguas esmeralda mientras disfruta de rutas de escalada de clase mundial para todos los niveles.",
    image: "https://images.unsplash.com/photo-1472087982327-49192446ed6b",
    link: `/${lang}/climbing/cat-ba-island`,
    tagline: "Imprescindible"
  },
];

const categories = [
  {
    title: "Trail Running",
    description: "Aventuras rápidas en los senderos montañosos de Vietnam",
    image: "https://images.unsplash.com/photo-1489659831163-682b5af42225",
    link: `/${lang}/trail-running`
  },
  {
    title: "Senderismo & Trekking",
    description: "Desde suaves caminatas de un día hasta épicos viajes de varios días",
    image: "https://images.unsplash.com/photo-1571407298153-9a051d190225",
    link: `/${lang}/hiking`
  },
  {
    title: "Escalada",
    description: "Aventuras verticales en formaciones kársticas y montañas",
    image: "https://images.unsplash.com/photo-1529271230144-e8c648ef570d",
    link: `/${lang}/climbing`
  }
];

const featuredAdventures = [
  {
    title: "Sendero de la Montaña Ba Vi",
    location: "Provincia de Hanoi",
    difficulty: "Moderado",
    duration: "1 Día",
    image: "https://images.unsplash.com/photo-1452626038306-9aae5e071dd3",
    link: `/${lang}/trail-running/ba-vi-mountain`,
    featured: true
  },
  {
    title: "Trekking del Circuito Ha Giang",
    location: "Provincia de Ha Giang",
    difficulty: "Difícil",
    duration: "4 Días",
    image: "https://images.unsplash.com/photo-1678099006439-dba9e4d3f9f5",
    link: `/${lang}/hiking/ha-giang-loop`,
    featured: false
  },
  {
    title: "Área de Escalada de Huu Lung",
    location: "Provincia de Lang Son",
    difficulty: "Moderado",
    duration: "1-2 Días",
    image: "https://images.unsplash.com/photo-1504699439244-a7e34870c35d",
    link: `/${lang}/climbing/huu-lung`,
    featured: false
  },
  {
    title: "Espeleología en Phong Nha",
    location: "Provincia de Quang Binh",
    difficulty: "Desafiante",
    duration: "3 Días",
    image: "https://images.unsplash.com/photo-1523065144972-e5f5c9ea6ed9",
    link: `/${lang}/adventures/phong-nha-caving`,
    featured: false
  }
];

const testimonials = [
  {
    name: "Sarah J.",
    text: "La guía de trail running de Sapa fue increíblemente detallada y me ayudó a descubrir rutas que nunca habría encontrado por mi cuenta. ¡Una experiencia espectacular!",
    location: "Estados Unidos"
  },
  {
    name: "Thomas L.",
    text: "Las recomendaciones de senderismo de VietnamADV en Ha Giang fueron perfectas. Los mapas detallados y los conocimientos locales hicieron que nuestro trekking fuera inolvidable.",
    location: "Australia"
  },
  {
    name: "Mai T.",
    text: "Como escaladora vietnamita local, estoy impresionada por la precisión y sensibilidad cultural en sus guías de escalada. Esta plataforma es un tesoro.",
    location: "Vietnam"
  }
];
---

<Layout 
  title={t('home.hero.title')}
  description="Descubra las aventuras al aire libre más impresionantes de Vietnam con nuestras guías seleccionadas para trail running, senderismo, escalada y actividades en la naturaleza."
  image="https://images.unsplash.com/photo-1502747812021-0ae746b6c23f"
>
  <!-- Hero Section -->
  <HeroSection
    title={t('home.hero.title')}
    subtitle={t('home.hero.subtitle')}
    backgroundImage="https://images.unsplash.com/photo-1502747812021-0ae746b6c23f"
    buttonText={t('home.hero.cta')}
    buttonLink={`/${lang}/adventures`}
  />
  
  <!-- Featured Activities -->
  <section class="py-16">
    <div class="container-custom">
      <h2 class="text-3xl md:text-4xl font-inter font-bold mb-4 text-center">{t('home.featured.title')}</h2>
      <p class="text-lg text-text/80 max-w-3xl mx-auto text-center mb-12">
        {t('home.featured.subtitle')}
      </p>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {featuredActivities.map(activity => (
          <FeatureCard 
            title={activity.title} 
            description={activity.description}
            image={activity.image}
            link={activity.link}
            tagline={activity.tagline}
          />
        ))}
      </div>
    </div>
  </section>
  
  <!-- Categories Section -->
  <CategorySection
    title={t('home.categories.title')}
    subtitle={t('home.categories.subtitle')}
    categories={categories}
  />
  
  <!-- Featured Adventures -->
  <section class="py-16 bg-background">
    <div class="container-custom">
      <h2 class="text-3xl md:text-4xl font-inter font-bold mb-4 text-center">{t('home.popular.title')}</h2>
      <p class="text-lg text-text/80 max-w-3xl mx-auto text-center mb-12">
        {t('home.popular.subtitle')}
      </p>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        {featuredAdventures.map(adventure => (
          <AdventureCard
            title={adventure.title}
            location={adventure.location}
            difficulty={adventure.difficulty}
            duration={adventure.duration}
            image={adventure.image}
            link={adventure.link}
            featured={adventure.featured}
          />
        ))}
      </div>
      
      <div class="text-center mt-12">
        <a href={`/${lang}/adventures`} class="btn btn-primary">{t('common.viewAll')}</a>
      </div>
    </div>
  </section>
  
  <!-- CTA Section -->
  <section class="py-20 bg-primary text-white">
    <div class="container-custom text-center">
      <h2 class="text-3xl md:text-4xl font-inter font-bold mb-4">{t('home.cta.title')}</h2>
      <p class="text-xl text-white/80 max-w-3xl mx-auto mb-8">
        {t('home.cta.text')}
      </p>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href={`/${lang}/adventures`} class="btn bg-white text-primary hover:bg-white/90">{t('home.cta.button1')}</a>
        <a href={`/${lang}/contact`} class="btn border-2 border-white text-white hover:bg-white hover:text-primary">{t('home.cta.button2')}</a>
      </div>
    </div>
  </section>
  
  <!-- Newsletter -->
  <Newsletter />
</Layout>
